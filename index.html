<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Traveler</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #0d0d1a;
            color: #ffffff;
            font-family: 'Orbitron', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #game-container {
            position: relative;
            border: 4px solid #fff;
            box-shadow: 0 0 20px #a4f, 0 0 40px #a4f inset;
            border-radius: 12px;
            overflow: hidden;
        }

        canvas {
            background-color: #00000a;
            display: block;
            width: 100%;
            height: 100%;
        }

        #ui-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px;
            box-sizing: border-box;
            text-align: center;
            pointer-events: none;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }

        #distance {
            font-size: 1.5em;
            color: #0ff;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 15px;
            border-radius: 8px;
            display: inline-block;
        }

        #start-screen, #game-over, #congratulations {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            padding: 40px;
            border-radius: 15px;
            border: 2px solid #fff;
            box-shadow: 0 0 15px #0ff;
        }

        h1 {
            font-size: 2.5em;
            color: #f7f7f7;
            margin-bottom: 10px;
        }
        h2 {
            font-size: 1.8em;
            color: #0ff;
            margin-top: 0;
        }
        p {
            font-size: 1.1em;
            line-height: 1.5;
        }

        button {
            background: linear-gradient(145deg, #a4f, #0ff);
            color: #fff;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: bold;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            border-radius: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.4);
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 255, 255, 0.6);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(0, 255, 255, 0.3);
        }
        
        #planet-info-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s, visibility 0.5s;
        }

        #planet-info-modal.visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border: 2px solid #0ff;
            border-radius: 20px;
            padding: 40px;
            max-width: 700px;
            text-align: center;
            box-shadow: 0 0 25px #0ff;
            transform: scale(0.9);
            transition: transform 0.5s;
        }
        
        #planet-info-modal.visible .modal-content {
            transform: scale(1);
        }

        .modal-content h3 {
            font-size: 2.2em;
            color: #a4f;
            text-shadow: 2px 2px 4px #000;
        }
        .modal-content p {
            font-size: 1.1em;
            color: #ccc;
            margin: 15px 0;
            white-space: pre-wrap;
        }
        .modal-content h4 {
            font-size: 1.4em;
            color: #0ff;
            margin-top: 20px;
        }
        .advantage, .disadvantage {
            margin-top: 10px;
        }
        .advantage ul, .disadvantage ul {
            list-style: none;
            padding: 0;
        }
        .advantage li::before { content: '‚úÖ '; color: limegreen; }
        .disadvantage li::before { content: '‚ùå '; color: crimson; }
        
        .modal-buttons {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

    </style>
</head>
<body>

    <div id="game-container">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        <div id="ui-overlay">
            <div id="distance">0 light-years</div>
        </div>
    </div>

    <div id="start-screen">
        <h2>Welcome, Space Traveler!</h2>
        <p>You have fled the scorching heat of the Sun to find a new home. Navigate your ship through the asteroid fields and reach the next planet. Each planet offers a chance at a new life, but presents new challenges. Be careful, a single collision will end your journey.</p>
        <button id="startButton">Start Journey</button>
    </div>

    <div id="planet-info-modal">
        <div class="modal-content">
            <h3 id="planet-name"></h3>
            <p id="planet-description"></p>
            <p id="planet-riddle"></p>
            <div class="advantage">
                <h4>Advantages:</h4>
                <ul id="planet-advantages"></ul>
            </div>
            <div class="disadvantage">
                <h4>Disadvantages:</h4>
                <ul id="planet-disadvantages"></ul>
            </div>
            <div class="modal-buttons">
                <button id="nextLevelButton">Continue Journey</button>
                <button id="shareButton">Share Arrival</button>
            </div>
        </div>
    </div>

    <div id="game-over" style="display: none;">
        <h2>Journey Ended</h2>
        <p>Your ship was lost in the vastness of space. The cosmos awaits a new explorer.</p>
        <button id="restartButton">Restart</button>
    </div>

    <div id="congratulations" style="display: none;">
        <h2>Congratulations!</h2>
        <p>You have successfully traveled to all planets in the solar system and have found your new home!</p>
        <button id="finalRestartButton">Start a New Journey</button>
    </div>
    
<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    
    // Set up canvas size
    const GAME_WIDTH = 800;
    const GAME_HEIGHT = 600;
    canvas.width = GAME_WIDTH;
    canvas.height = GAME_HEIGHT;

    const startScreen = document.getElementById('start-screen');
    const startButton = document.getElementById('startButton');
    const planetInfoModal = document.getElementById('planet-info-modal');
    const planetNameEl = document.getElementById('planet-name');
    const planetDescriptionEl = document.getElementById('planet-description');
    const planetRiddleEl = document.getElementById('planet-riddle');
    const planetAdvantagesEl = document.getElementById('planet-advantages');
    const planetDisadvantagesEl = document.getElementById('planet-disadvantages');
    const nextLevelButton = document.getElementById('nextLevelButton');
    const shareButton = document.getElementById('shareButton');
    const distanceDisplay = document.getElementById('distance');
    const gameOverScreen = document.getElementById('game-over');
    const restartButton = document.getElementById('restartButton');
    const congratulationsScreen = document.getElementById('congratulations');
    const finalRestartButton = document.getElementById('finalRestartButton');

    // Game variables
    let gameStarted = false;
    let gameOver = false;
    let currentPlanetIndex = 0;
    let score = 0;
    let distance = 0;
    let lastTime = 0;
    let levelDuration = 120; // 2 minutes in seconds
    let levelStartTime = 0;

    // Ship properties
    const ship = {
        x: GAME_WIDTH / 4,
        y: GAME_HEIGHT / 2,
        radius: 15,
        velocity: 0,
        gravity: 0.5,
        lift: -8,
        color: 'üöÄ'
    };

    // Asteroid properties
    let asteroids = [];
    let asteroidSpeed = 3;
    let asteroidSpawnRate = 120; // Frames between new asteroids
    let frames = 0;
    let minGap = 150;
    let maxGap = 250;

    const planets = [
        {
            name: "Mercury",
            emoji: "‚òÑÔ∏è",
            info: "Mercury is the smallest planet in our solar system and the closest to the Sun. Its proximity to the Sun causes extreme temperature swings.",
            riddle: "I have mountains but no air, a surface scarred by craters. I'm quick in my orbit, a speedy little brother. What am I?",
            advantages: ["Short travel time from the Sun", "Abundant solar energy"],
            disadvantages: ["Extreme temperature fluctuations", "No atmosphere to breathe", "High radiation"]
        },
        {
            name: "Venus",
            emoji: "üåã",
            info: "Venus is Earth's 'sister planet' in size, but its thick, toxic atmosphere traps heat in a runaway greenhouse effect, making it the hottest planet.",
            riddle: "I'm named after the goddess of love, but my atmosphere is a hot, acidic mess. I spin backward from all my peers. What am I?",
            advantages: ["Similar size and gravity to Earth"],
            disadvantages: ["Surface temperature of 465¬∞C", "Atmosphere of carbon dioxide and sulfuric acid"]
        },
        {
            name: "Earth",
            emoji: "üåç",
            info: "The third planet from the Sun and the only known astronomical object to harbor life. Its oceans of liquid water and breathable atmosphere make it unique.",
            riddle: "I am the home you seek, blue and green, where life thrives and seasons preen. I have a single companion in my sky. What am I?",
            advantages: ["Liquid water and breathable atmosphere", "Abundant flora and fauna", "Suitable temperatures"],
            disadvantages: ["Prone to natural disasters", "Already heavily populated", "Slightly less challenging now"]
        },
        {
            name: "Mars",
            emoji: "üî¥",
            info: "Known as the Red Planet, Mars is a cold, desert world with polar ice caps and a thin atmosphere. It's the most explored planet after Earth.",
            riddle: "I am a rusty red traveler, a destination of dreams for many. My moons are tiny, my dust storms are grand. What am I?",
            advantages: ["Presence of water ice", "Potential for terraforming", "Similar day/night cycle to Earth"],
            disadvantages: ["Extremely cold temperatures", "Very thin, unbreathable atmosphere", "Frequent dust storms"]
        },
        {
            name: "Jupiter",
            emoji: "ü™ê",
            info: "Jupiter is a gas giant and the largest planet in our solar system. Its iconic Great Red Spot is a massive storm that has raged for centuries.",
            riddle: "I am a king among my peers, a great red eye watches over me. I have many moons and no solid ground. What am I?",
            advantages: ["Incredible size and power", "A great shield for the inner planets"],
            disadvantages: ["No solid surface", "Intense radiation and magnetic fields", "Powerful, deadly storms"]
        },
        {
            name: "Saturn",
            emoji: "ü™ê",
            info: "Known for its magnificent system of rings, Saturn is another gas giant. The rings are made of ice particles and rock, and it's the second-largest planet.",
            riddle: "I am a celestial ring-bearer, a beautiful giant of gas. My rings are my crown, a sight to behold. What am I?",
            advantages: ["Breathtaking views of the rings", "Many moons to explore"],
            disadvantages: ["No solid surface", "Extremely strong winds and storms", "Very cold temperatures"]
        },
        {
            name: "Uranus",
            emoji: "üåÄ",
            info: "Uranus is a unique ice giant that rotates on its side, a trait that gives it extreme seasons. It has a faint ring system and a core of rock and ice.",
            riddle: "I'm a frosty blue giant, a peculiar dancer in the dark. I tumble through space on my side. What am I?",
            advantages: ["Unique rotational axis could offer new perspectives"],
            disadvantages: ["Tilted sideways on its axis", "Extremely cold", "Methane atmosphere"]
        },
        {
            name: "Neptune",
            emoji: "üåä",
            info: "The farthest planet from the Sun, Neptune is a stormy, windy world. It's another ice giant with the fastest winds in the solar system.",
            riddle: "I'm the farthest from our star, a deep blue giant with powerful gales. My great dark spot comes and goes. What am I?",
            advantages: ["Serene and isolated"],
            disadvantages: ["Farthest from the Sun", "Extremely cold temperatures", "Fastest winds in the solar system"]
        }
    ];

    // Functions
    function drawShip() {
        ctx.font = `${ship.radius * 2}px sans-serif`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(ship.color, ship.x, ship.y);
    }

    function updateShip() {
        ship.velocity += ship.gravity;
        ship.y += ship.velocity;
        
        // Prevent ship from going off screen
        if (ship.y + ship.radius > GAME_HEIGHT) {
            ship.y = GAME_HEIGHT - ship.radius;
            ship.velocity = 0;
            endGame();
        }
        if (ship.y - ship.radius < 0) {
            ship.y = ship.radius;
            ship.velocity = 0;
        }
    }

    function drawAsteroid(asteroid) {
        ctx.fillStyle = '#f0f';
        ctx.fillRect(asteroid.x, 0, asteroid.width, asteroid.topHeight);
        ctx.fillRect(asteroid.x, asteroid.bottomY, asteroid.width, asteroid.bottomHeight);

        // Draw emojis
        ctx.font = '24px sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('‚òÑÔ∏è', asteroid.x + asteroid.width / 2, asteroid.topHeight + 20);
        ctx.fillText('‚òÑÔ∏è', asteroid.x + asteroid.width / 2, asteroid.bottomY - 20);
    }

    function updateAsteroids() {
        for (let i = asteroids.length - 1; i >= 0; i--) {
            asteroids[i].x -= asteroidSpeed;
            if (asteroids[i].x + asteroids[i].width < 0) {
                asteroids.splice(i, 1);
            }
        }
    }

    function createAsteroid() {
        const gap = minGap + Math.random() * (maxGap - minGap);
        const topHeight = Math.random() * (GAME_HEIGHT - gap - 100) + 50;
        const bottomY = topHeight + gap;
        const bottomHeight = GAME_HEIGHT - bottomY;

        asteroids.push({
            x: GAME_WIDTH,
            width: 50,
            topHeight: topHeight,
            bottomY: bottomY,
            bottomHeight: bottomHeight
        });
    }

    function checkCollision() {
        for (const asteroid of asteroids) {
            if (ship.x + ship.radius > asteroid.x && ship.x - ship.radius < asteroid.x + asteroid.width) {
                if (ship.y - ship.radius < asteroid.topHeight || ship.y + ship.radius > asteroid.bottomY) {
                    endGame();
                }
            }
        }
    }
    
    function updateDifficulty() {
        const difficultyFactor = (currentPlanetIndex) / (planets.length - 1);
        asteroidSpeed = 3 + 4 * difficultyFactor; // Speed up from 3 to 7
        minGap = 150 - 50 * difficultyFactor; // Shrink gap from 150 to 100
        maxGap = 250 - 50 * difficultyFactor; // Shrink gap from 250 to 200
        asteroidSpawnRate = 120 - 40 * difficultyFactor; // Increase spawn rate
        if (asteroidSpawnRate < 60) asteroidSpawnRate = 60;
    }

    function animate(currentTime) {
        if (!gameStarted || gameOver) return;

        const deltaTime = currentTime - lastTime;
        lastTime = currentTime;
        
        // Check for level completion
        const elapsedTime = (currentTime - levelStartTime) / 1000;
        if (elapsedTime >= levelDuration) {
            endLevel();
            return;
        }

        ctx.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);
        
        // Update and draw
        updateShip();
        updateAsteroids();
        frames++;

        if (frames % Math.floor(asteroidSpawnRate) === 0) {
            createAsteroid();
        }

        asteroids.forEach(drawAsteroid);
        drawShip();
        
        // Check for collision after drawing
        checkCollision();
        
        // Update distance display
        distance += (deltaTime / 1000) * 0.01;
        distanceDisplay.textContent = `${distance.toFixed(2)} light-years`;
        
        requestAnimationFrame(animate);
    }
    
    function showPlanetInfo() {
        const planet = planets[currentPlanetIndex];
        
        // Check for end of game
        if (!planet) {
            congratulationsScreen.style.display = 'block';
            return;
        }

        planetNameEl.textContent = `${planet.name} ${planet.emoji}`;
        planetDescriptionEl.textContent = planet.info;
        planetRiddleEl.textContent = `Riddle: ${planet.riddle}`;
        
        planetAdvantagesEl.innerHTML = '';
        planet.advantages.forEach(adv => {
            const li = document.createElement('li');
            li.textContent = adv;
            planetAdvantagesEl.appendChild(li);
        });

        planetDisadvantagesEl.innerHTML = '';
        planet.disadvantages.forEach(dis => {
            const li = document.createElement('li');
            li.textContent = dis;
            planetDisadvantagesEl.appendChild(li);
        });
        
        planetInfoModal.classList.add('visible');
    }

    function startGame() {
        gameStarted = true;
        gameOver = false;
        startScreen.style.display = 'none';
        gameOverScreen.style.display = 'none';
        congratulationsScreen.style.display = 'none';
        
        // Reset game state
        ship.y = GAME_HEIGHT / 2;
        ship.velocity = 0;
        asteroids = [];
        score = 0;
        distance = 0;
        frames = 0;
        levelStartTime = Date.now();
        
        updateDifficulty();
        requestAnimationFrame(animate);
    }

    function endLevel() {
        gameStarted = false;
        showPlanetInfo();
        currentPlanetIndex++;
    }

    function endGame() {
        gameOver = true;
        gameStarted = false;
        gameOverScreen.style.display = 'block';
    }

    // Event listeners
    startButton.addEventListener('click', startGame);
    restartButton.addEventListener('click', () => {
        currentPlanetIndex = 0;
        startGame();
    });
    finalRestartButton.addEventListener('click', () => {
        currentPlanetIndex = 0;
        startGame();
    });

    nextLevelButton.addEventListener('click', () => {
        planetInfoModal.classList.remove('visible');
        if (currentPlanetIndex < planets.length) {
            startGame();
        }
    });

    shareButton.addEventListener('click', () => {
        const planet = planets[currentPlanetIndex - 1]; // -1 because index is already incremented
        const shareText = `I just traveled to ${planet.name}! I passed through a difficult asteroid field to get here. Can you make it?`;
        
        const tempTextarea = document.createElement('textarea');
        tempTextarea.value = shareText;
        document.body.appendChild(tempTextarea);
        tempTextarea.select();
        document.execCommand('copy');
        document.body.removeChild(tempTextarea);
        
        alert('Copied to clipboard! Now you can paste your achievement anywhere.');
    });

    canvas.addEventListener('click', () => {
        if (gameStarted) {
            ship.velocity = ship.lift;
        }
    });

    // Initial call to start the animation loop
    window.onload = function() {
        startScreen.style.display = 'block';
    };
</script>

</body>
</html>
